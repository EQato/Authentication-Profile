<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Studentet</title>
<link href="../style.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="<?php echo base_url(); ?>css/styleadmin.css" type="text/css" media="screen, projection" />
<style>
.paginate {
font-family:Arial, Helvetica, sans-serif;
	padding: 3px;
	margin: 3px;
}

.paginate a {
	padding:2px 5px 2px 5px;
	margin:2px;
	border:1px solid #999;
	text-decoration:none;
	color: #666;
}
.paginate a:hover, .paginate a:active {
	border: 1px solid #999;
	color: #000;
}
.paginate span.current {
    margin: 2px;
	padding: 2px 5px 2px 5px;
		border: 1px solid #999;
		
		font-weight: bold;
		background-color: #999;
		color: #FFF;
	}
	.paginate span.disabled {
		padding:2px 5px 2px 5px;
		margin:2px;
		border:1px solid #eee;
		color:#DDD;
	}
	
	li{
		padding:4px;
		margin-bottom:3px;
		background-color:#FCC;
		list-style:none;}
		
	ul{margin:6px;
	padding:0px;}	
	
</style>
<style>.CSSTableGenerator {
	margin:0px;padding:0px;
	width:100%;
	
	328#@*
	-moz-border-radius-bottomleft:0px;
	-webkit-border-bottom-left-radius:0px;
	border-bottom-left-radius:0px;
	
	-moz-border-radius-bottomright:0px;
	-webkit-border-bottom-right-radius:0px;
	border-bottom-right-radius:0px;
	
	-moz-border-radius-topright:0px;
	-webkit-border-top-right-radius:0px;
	border-top-right-radius:0px;
	
	-moz-border-radius-topleft:0px;
	-webkit-border-top-left-radius:0px;
	border-top-left-radius:0px;
}.CSSTableGenerator table{
	width:100%;
	height:100%;
	margin:0px;padding:0px;
}.CSSTableGenerator tr:last-child td:last-child {
	-moz-border-radius-bottomright:0px;
	-webkit-border-bottom-right-radius:0px;
	border-bottom-right-radius:0px;
}
.CSSTableGenerator table tr:first-child td:first-child {
	-moz-border-radius-topleft:0px;
	-webkit-border-top-left-radius:0px;
	border-top-left-radius:0px;
}
.CSSTableGenerator table tr:first-child td:last-child {
	-moz-border-radius-topright:0px;
	-webkit-border-top-right-radius:0px;
	border-top-right-radius:0px;
}.CSSTableGenerator tr:last-child td:first-child{
	-moz-border-radius-bottomleft:0px;
	-webkit-border-bottom-left-radius:0px;
	border-bottom-left-radius:0px;
}.CSSTableGenerator tr:hover td{
	
}
.CSSTableGenerator tr:nth-child(odd){ background-color:#effbfb; } 
.CSSTableGenerator tr:nth-child(even)    { background-color:#ffffff; }.CSSTableGenerator td{
	vertical-align:middle;
	
	
	border:1px solid #000000;
	border-width:0px 1px 1px 0px;
	text-align:left;
	padding:7px;
	font-size:13px;
	font-family:Arial;
	font-weight:normal;
	color:#000000;
}.CSSTableGenerator tr:last-child td{
	border-width:0px 1px 0px 0px;
}.CSSTableGenerator tr td:last-child{
	border-width:0px 0px 1px 0px;
}.CSSTableGenerator tr:last-child td:last-child{
	border-width:0px 0px 0px 0px;
}
.CSSTableGenerator tr:first-child td{
		background:-o-linear-gradient(bottom, #005fbf 5%, #003f7f 100%);	background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #cfebec), color-stop(1, #aed2d2) );
	background:-moz-linear-gradient( center top, #005fbf 5%, #003f7f 100% );
	filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#005fbf", endColorstr="#003f7f");	background: -o-linear-gradient(top,#005fbf,003f7f);

	background-color:#005fbf;
	border:0px solid #000000;
	text-align:center;
	border-width:0px 0px 1px 1px;
	font-size:14px;
	font-family:Arial;
	font-weight:bold;
	color:#ffffff;
}
.CSSTableGenerator tr:first-child:hover td{
	background:-o-linear-gradient(bottom, #005fbf 5%, #003f7f 100%);	background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #005fbf), color-stop(1, #003f7f) );
	background:-moz-linear-gradient( center top, #005fbf 5%, #003f7f 100% );
	filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#005fbf", endColorstr="#003f7f");	background: -o-linear-gradient(top,#005fbf,003f7f);

	background-color:#005fbf;
}
.CSSTableGenerator tr:first-child td:first-child{
	border-width:0px 0px 1px 0px;
}
.CSSTableGenerator tr:first-child td:last-child{
	border-width:0px 0px 1px 1px;
}</style>

</head>

<body>

 <div id="topheader">
   <div class="logo"></div>
   <div class="menu_area"><a href="http://studentclub.al/card/index.php/admin/export_data?page=1" class="ideas">k&euml;rko  <span class="menu_text">K&euml;rko Studentet</span></a> <a href="#" class="links">Oferta  <span class="menu_text">Oferta te reja</span></a> <a href="#" class="info">Info  <span class="menu_text">Informacione</span></a> <a href="#" class="works">Biznese<span class="menu_text"></span></a></div>
 </div>
 <div id="search_strip">
  <div class="freeregistration">
    <div class="registration"><a href="http://studentclub.al/card/index.php/admin/admin_login" class="free">ADMIN</a></div>
  </div><form id="mbiemrif" action="http://studentclub.al/card/index.php/admin/gjejtegjitha" method="get">
  <div class="search_area">
    <div class="search_box">
      <label>
      <input name="tegjitha" type="text" class="searchtextbox" />
      </label>
    </div>
    <div class="search_go">
      <div align="center"><input class="go" name="go" type="submit" value="GO" /></div>
    </div></form>
    <div class="search_box">&raquo; <a href="#" class="advancesearch">Advance Search</a></div>
  </div>
 </div>
<div id="body_area" width="100%" class="CSSTableGenerator" width="1100px">
  
<div>
<?php


	$tableName="login";
$tableName2="personal_data";
$tableName3="university";	
	$targetpage = "export_data"; 	
	$limit = 30; 
	$query = "SELECT *FROM login";
	$total_pages = mysql_num_rows(mysql_query($query));
	$stages = 3;
	$page = mysql_escape_string($_GET['page']);
	if($page){
		$start = ($page - 1) * $limit; 
	}else{
		$start = 1;	
		}	
	
    // Get page data
	$query1 = "SELECT * 
	FROM login 
	INNER JOIN personal_data on 
	login.id=personal_data.id_login 
	INNER JOIN university 
	on personal_data.university=university.id 
	WHERE login.status=0
	LIMIT $start, $limit ";
	$result = mysql_query($query1);
	
	// Initial page num setup
	if ($page == 0){$page = 1;}
	$prev = $page - 1;	
	$next = $page + 1;							
	$lastpage = ceil($total_pages/$limit);		
	$LastPagem1 = $lastpage - 1;					
	
	
	$paginate = '';
	if($lastpage > 1)
	{	
	

	
	
		$paginate .= "<div class='paginate'>";
		// Previous
		if ($page > 1){
			$paginate.= "<a href='$targetpage?page=$prev'>previous</a>";
		}else{
			$paginate.= "<span class='disabled'>previous</span>";	}
			

		
		// Pages	
		if ($lastpage < 7 + ($stages * 2))	// Not enough pages to breaking it up
		{	
			for ($counter = 1; $counter <= $lastpage; $counter++)
			{
				if ($counter == $page){
					$paginate.= "<span class='current'>$counter</span>";
				}else{
					$paginate.= "<a href='$targetpage?page=$counter'>$counter</a>";}					
			}
		}
		elseif($lastpage > 5 + ($stages * 2))	// Enough pages to hide a few?
		{
			// Beginning only hide later pages
			if($page < 1 + ($stages * 2))		
			{
				for ($counter = 1; $counter < 4 + ($stages * 2); $counter++)
				{
					if ($counter == $page){
						$paginate.= "<span class='current'>$counter</span>";
					}else{
						$paginate.= "<a href='$targetpage?page=$counter'>$counter</a>";}					
				}
				$paginate.= "...";
				$paginate.= "<a href='$targetpage?page=$LastPagem1'>$LastPagem1</a>";
				$paginate.= "<a href='$targetpage?page=$lastpage'>$lastpage</a>";		
			}
			// Middle hide some front and some back
			elseif($lastpage - ($stages * 2) > $page && $page > ($stages * 2))
			{
				$paginate.= "<a href='$targetpage?page=1'>1</a>";
				$paginate.= "<a href='$targetpage?page=2'>2</a>";
				$paginate.= "...";
				for ($counter = $page - $stages; $counter <= $page + $stages; $counter++)
				{
					if ($counter == $page){
						$paginate.= "<span class='current'>$counter</span>";
					}else{
						$paginate.= "<a href='$targetpage?page=$counter'>$counter</a>";}					
				}
				$paginate.= "...";
				$paginate.= "<a href='$targetpage?page=$LastPagem1'>$LastPagem1</a>";
				$paginate.= "<a href='$targetpage?page=$lastpage'>$lastpage</a>";		
			}
			// End only hide early pages
			else
			{
				$paginate.= "<a href='$targetpage?page=1'>1</a>";
				$paginate.= "<a href='$targetpage?page=2'>2</a>";
				$paginate.= "...";
				for ($counter = $lastpage - (2 + ($stages * 2)); $counter <= $lastpage; $counter++)
				{
					if ($counter == $page){
						$paginate.= "<span class='current'>$counter</span>";
					}else{
						$paginate.= "<a href='$targetpage?page=$counter'>$counter</a>";}					
				}
			}
		}
					
				// Next
		if ($page < $counter - 1){ 
			$paginate.= "<a href='$targetpage?page=$next'>next</a>";
		}else{
			$paginate.= "<span class='disabled'>next</span>";
			}
			
		$paginate.= "</div>";		
	
	
}
 echo $total_pages.' Results';
 // pagination
 echo $paginate;
?>

</div><br>

<?php 

		echo '<table border="1" width="100%"><tr>';
		echo '<td>ID</td>';
		echo '<td>EMAIL</td>';
		echo '<td>EMRI</td>';
		echo '<td>MBIEMRI</td>';
		echo '<td>DATELINDJA</td>';
		echo '<td>FAKULTETI</td>';
		echo '<td>UNIVERSITETI</td>';
		echo '<td>TELEFONI</td>';
		echo '<td>BARCODE</td>';
		echo '<td>QYTETI</td>';
		echo '<td>SHTETI</td>';
		echo '<td>FOTO</td>';
		echo '</tr>';
foreach($data as $personale):
 

		while($row = mysql_fetch_array($result))
		{
		
         
		echo '<tr>';
		echo '<td>'.$row['id_login'].'</td>';
		echo '<td>'.$row['email'].'</td>';
		echo '<td>'.$row['name'].'</td>';
		echo '<td>'.$row['surname'].'</td>';
		echo '<td>'.$row['birth_date'].'</td>';
		echo '<td>'.$row['faculty'].'</td>';
		echo '<td>'.$row['university'].'</td>';
		echo '<td>'.$row['telephone'].'</td>';
		echo '<td>'.$row['barcode'].'</td>';
		echo '<td>'.$row['qyteti'].'</td>';
		echo '<td>'.$row['shteti'].'</td>';
		echo '<td><image src="'.$row['photo_path'].'" width="200px" height="200px"/></td>';
		echo '</tr>';
	    
		}
	
	endforeach;
		echo '</table>';
		
	?><br>
<div><?php  echo $paginate; ?></div>
</div>	

</body>
</html>
    
    